cat > index.html << 'EOF'
<!DOCTYPE html>
<html>
<head>
    <title>PartnerHub SQL Playground</title>
    <style>
        body { font-family: 'Segoe UI', sans-serif; margin: 20px; background: #f5f5f5; }
        .container { max-width: 1200px; margin: 0 auto; background: white; border-radius: 10px; padding: 30px; box-shadow: 0 4px 20px rgba(0,0,0,0.1); }
        h1 { color: #2563eb; text-align: center; margin-bottom: 30px; }
        .editor { width: 100%; height: 200px; font-family: monospace; font-size: 14px; border: 2px solid #e5e7eb; border-radius: 8px; padding: 15px; resize: vertical; }
        .buttons { text-align: center; margin: 20px 0; }
        button { background: #2563eb; color: white; border: none; padding: 12px 24px; border-radius: 6px; font-size: 16px; cursor: pointer; margin: 0 10px; }
        button:hover { background: #1d4ed8; }
        .results { margin-top: 20px; }
        table { width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        th, td { padding: 12px; text-align: left; border-bottom: 1px solid #e5e7eb; }
        th { background: #f8fafc; font-weight: 600; color: #374151; }
        .stats { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin: 20px 0; }
        .stat { background: #eff6ff; padding: 20px; border-radius: 8px; text-align: center; }
        .stat-value { font-size: 32px; font-weight: bold; color: #2563eb; }
        .error { color: #dc2626; background: #fef2f2; padding: 15px; border-radius: 8px; border-left: 4px solid #dc2626; }
    </style>
</head>
<body>
    <div class="container">
        <h1>üõ†Ô∏è PartnerHub SQL Playground</h1>
        <p style="text-align: center; color: #6b7280;">Write SQL queries against SaaS partner data (11+ ISV/SI partners, $880K ARR)</p>
        
        <textarea class="editor" id="sqlEditor" placeholder="Try: SELECT * FROM partners WHERE type='ISV';">SELECT * FROM partners;</textarea>
        
        <div class="buttons">
            <button onclick="runQuery()">‚ñ∂Ô∏è Execute SQL</button>
            <button onclick="loadPreset('isv')">ISV Partners</button>
            <button onclick="loadPreset('analytics')">Analytics</button>
            <button onclick="loadPreset('top')">Top ARR</button>
        </div>
        
        <div class="stats">
            <div class="stat">
                <div class="stat-value" id="totalArr">$880K</div>
                <div>Total ARR</div>
            </div>
            <div class="stat">
                <div class="stat-value" id="isvCount">2</div>
                <div>ISV Partners</div>
            </div>
            <div class="stat">
                <div class="stat-value" id="siCount">2</div>
                <div>SI Partners</div>
            </div>
        </div>
        
        <div id="results" class="results"></div>
    </div>

    <script>
        const FAKE_DB = [
            {id: 1, name: "CloudCo", type: "ISV", arr: 250000, status: "active", notes: "Key ARR driver"},
            {id: 2, name: "TechCorp", type: "SI", arr: 150000, status: "active", notes: "Implementation partner"},
            {id: 3, name: "DataCorp", type: "ISV", arr: 300000, status: "active"},
            {id: 4, name: "SysInt", type: "SI", arr: 180000, status: "pending"}
        ];

        function sqlQuery(data, query) {
            // Simple SQL parser for demo
            query = query.toLowerCase().trim();
            
            if (query.startsWith('select')) {
                let result = [...data];
                
                // WHERE clause
                if (query.includes('where')) {
                    if (query.includes("type='isv'")) result = result.filter(r => r.type === 'ISV');
                    if (query.includes("type='si'")) result = result.filter(r => r.type === 'SI');
                    if (query.includes("status='active'")) result = result.filter(r => r.status === 'active');
                    if (query.includes('arr >')) {
                        const match = query.match(/arr > (\d+)/);
                        if (match) result = result.filter(r => r.arr > parseInt(match[1]));
                    }
                }
                
                // GROUP BY
                if (query.includes('group by')) {
                    const grouped = {};
                    result.forEach(row => {
                        const key = row.type;
                        if (!grouped[key]) grouped[key] = [];
                        grouped[key].push(row);
                    });
                    result = Object.entries(grouped).map(([type, rows]) => ({
                        type,
                        count: rows.length,
                        total_arr: rows.reduce((sum, r) => sum + r.arr, 0)
                    }));
                }
                
                // ORDER BY
                if (query.includes('order by arr')) {
                    result.sort((a, b) => b.arr - a.arr);
                }
                
                // LIMIT
                const limitMatch = query.match(/limit (\d+)/);
                if (limitMatch) {
                    result = result.slice(0, parseInt(limitMatch[1]));
                }
                
                return result;
            }
            
            return [{error: "Only SELECT queries supported"}];
        }

        function runQuery() {
            const sql = document.getElementById('sqlEditor').value;
            const results = sqlQuery(FAKE_DB, sql);
            displayResults(results, sql);
        }

        function displayResults(results, sql) {
            const resultsDiv = document.getElementById('results');
            
            if (results[0] && results[0].error) {
                resultsDiv.innerHTML = `<div class="error">‚ùå ${results[0].error}</div>`;
                return;
            }
            
            let html = `<h3>Results for:</h3><code style="background:#f3f4f6;padding:8px;border-radius:4px;display:block;">${sql}</code>`;
            
            if (results.length === 0) {
                html += '<p>No results</p>';
            } else {
                html += '<table><thead><tr>';
                Object.keys(results[0]).forEach(key => {
                    html += `<th>${key.toUpperCase()}</th>`;
                });
                html += '</tr></thead><tbody>';
                
                results.forEach(row => {
                    html += '<tr>';
                    Object.values(row).forEach(val => {
                        html += `<td>${formatValue(val)}</td>`;
                    });
                    html += '</tr>';
                });
                html += '</tbody></table>';
            }
            
            resultsDiv.innerHTML = html;
        }

        function formatValue(val) {
            if (typeof val === 'number' && val >= 1000) {
                return '$' + (val/1000).toLocaleString() + 'K';
            }
            return val;
        }

        function loadPreset(type) {
            const presets = {
                isv: "SELECT * FROM partners WHERE type='ISV';",
                analytics: "SELECT type, COUNT(*) as count, SUM(arr) as total_arr FROM partners GROUP BY type;",
                top: "SELECT name, arr FROM partners ORDER BY arr DESC LIMIT 3;"
            };
            document.getElementById('sqlEditor').value = presets[type];
            runQuery();
        }

        // Load initial data
        window.onload = () => runQuery();
    </script>
</body>
</html>
EOF

